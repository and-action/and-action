<svg xmlns="http://www.w3.org/2000/svg" style="display: none">
  <symbol id="check" viewBox="0 0 24 24">
    <path
      d="M21.03 5.72a.75.75 0 0 1 0 1.06l-11.5 11.5a.747.747 0 0 1-1.072-.012l-5.5-5.75a.75.75 0 1 1 1.084-1.036l4.97 5.195L19.97 5.72a.75.75 0 0 1 1.06 0Z"
    />
  </symbol>

  <symbol id="x" viewBox="0 0 24 24">
    <path
      d="M5.72 5.72a.75.75 0 0 1 1.06 0L12 10.94l5.22-5.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L13.06 12l5.22 5.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L12 13.06l-5.22 5.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L10.94 12 5.72 6.78a.75.75 0 0 1 0-1.06Z"
    />
  </symbol>

  <symbol id="dot-fill" viewBox="0 0 24 24">
    <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" />
  </symbol>
</svg>

<ng-template #statusIcon>
  <svg [class]="'status__icon status__icon--' + status()">
    @switch (status()) {
      @case (statusWithTextStatus.SUCCESS) {
        <use xlink:href="#check"></use>
      }
      @case (statusWithTextStatus.PENDING) {
        <use xlink:href="#dot-fill"></use>
      }
      @case (statusWithTextStatus.FAILED) {
        <use xlink:href="#x"></use>
      }
    }
  </svg>
</ng-template>

@if (link()) {
  <a class="status" [href]="link()" target="_blank" rel="noopener">
    <ng-container *ngTemplateOutlet="statusIcon"></ng-container>
  </a>
  <a class="status-text" [href]="link()" target="_blank" rel="noopener">
    {{ text() }}
  </a>
} @else {
  <span class="status">
    <ng-container *ngTemplateOutlet="statusIcon"></ng-container>
  </span>
  <span class="status-text">{{ text() }}</span>
}
