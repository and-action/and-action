<svg xmlns="http://www.w3.org/2000/svg" style="display: none">
  <symbol id="check-circle-fill" viewBox="0 0 16 16">
    <path
      fill-rule="evenodd"
      d="M8 16A8 8 0 108 0a8 8 0 000 16zm3.78-9.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"
    />
  </symbol>

  <symbol id="x-circle-fill" viewBox="0 0 16 16">
    <path
      fill-rule="evenodd"
      d="M2.343 13.657A8 8 0 1113.657 2.343 8 8 0 012.343 13.657zM6.03 4.97a.75.75 0 00-1.06 1.06L6.94 8 4.97 9.97a.75.75 0 101.06 1.06L8 9.06l1.97 1.97a.75.75 0 101.06-1.06L9.06 8l1.97-1.97a.75.75 0 10-1.06-1.06L8 6.94 6.03 4.97z"
    />
  </symbol>

  <symbol id="dot-fill" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8z" />
  </symbol>

  <symbol id="loading-circle" fill="none" viewBox="0 0 16 16">
    <path
      opacity=".5"
      d="M8 15A7 7 0 108 1a7 7 0 000 14v0z"
      stroke="#dbab0a"
      stroke-width="2"
    ></path>
    <path d="M15 8a7 7 0 01-7 7" stroke="#dbab0a" stroke-width="2"></path>
    <path d="M8 12a4 4 0 100-8 4 4 0 000 8z" fill="#dbab0a"></path>
  </symbol>

  <symbol id="skip-circle" viewBox="0 0 16 16">
    <path
      fill-rule="evenodd"
      d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zm3.28 5.78a.75.75 0 00-1.06-1.06l-5.5 5.5a.75.75 0 101.06 1.06l5.5-5.5z"
    />
  </symbol>
</svg>

@if (link()) {
  <a
    class="tag"
    [style.background-color]="color()"
    [href]="link()"
    target="_blank"
    rel="noopener"
  >
    <ng-template [ngTemplateOutlet]="tagContent"></ng-template>
  </a>
} @else {
  <p class="tag" [style.background-color]="color()">
    <ng-template [ngTemplateOutlet]="tagContent"></ng-template>
  </p>
}

<ng-template #tagContent>
  <span class="tag__name">{{ name() }}</span>
  @if (status() !== statusTagStatus.NONE) {
    <span class="tag__status">
      <svg [class]="'tag__status-icon tag__status-icon--' + status()">
        @if (status() === statusTagStatus.SUCCESS) {
          <use xlink:href="#check-circle-fill"></use>
        }
        @if (status() === statusTagStatus.ERROR) {
          <use xlink:href="#x-circle-fill"></use>
        }
        @if (status() === statusTagStatus.IN_PROGRESS) {
          <use xlink:href="#loading-circle"></use>
        }
        @if (status() === statusTagStatus.WAITING) {
          <use xlink:href="#dot-fill"></use>
        }
        @if (status() === statusTagStatus.SKIPPED) {
          <use xlink:href="#skip-circle"></use>
        }
      </svg>
    </span>
  }
</ng-template>
